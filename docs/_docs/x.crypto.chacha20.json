{"module_name":"x.crypto.chacha20","description":"# module chacha20\n\nchacha20\n-------\n\nChacha20 (and XChacha20) stream cipher encryption algorithm in pure V. Its mostly based on [RFC 8439](https://datatracker.ietf.org/doc/html/rfc8439) and inspired by Go version of the same library.\n\nExamples\n--------\n\n```v\nmodule main\n\nimport encoding.hex\nimport x.crypto.chacha20\n\nfn main() {\n// example of random key\n// you should make sure the key (and nonce) are random enough.\n// The security guarantees of the ChaCha20 require that the same nonce\n// value is never used twice with the same key.\nkey := hex.decode('bf32a829ebf86d23f6a32a74ef0333401e54a6b2900d35bfadef82c5d49da15f')!\nnonce := hex.decode('a7d7cf3405631f25cc1054bd')!\n\ninput := 'Good of gambler'.bytes()\n\n// encrypt and the decrypt back\noutput := chacha20.encrypt(key, nonce, input)!\ninput_back := chacha20.decrypt(key, nonce, output)!\n\n// should true\nassert input == input_back\n}\n```\n","contents":[{"attributes":{},"comments":[],"children":[{"attributes":{},"comments":[{"text":"\u0001 size of ChaCha20 key, ie 256 bits size, in bytes","is_multi":false,"pos":{"len":50,"line_nr":12,"pos":0,"col":0,"last_line":0}}],"children":[],"tags":[],"file_path":"D:\\Games\\Proekti\\V\\v\\vlib\\x\\crypto\\chacha20\\chacha.v","content":"const key_size = 32","name":"","parent_name":"","return_type":"","pos":{"len":9,"line_nr":13,"pos":360,"col":0,"last_line":13},"platform":"cross","kind":"const_group","public":true,"from_scope":false},{"attributes":{},"comments":[{"text":"\u0001 size of ietf ChaCha20 nonce, ie 96 bits size, in bytes","is_multi":false,"pos":{"len":56,"line_nr":14,"pos":0,"col":0,"last_line":0}}],"children":[],"tags":[],"file_path":"D:\\Games\\Proekti\\V\\v\\vlib\\x\\crypto\\chacha20\\chacha.v","content":"const nonce_size = 12","name":"","parent_name":"","return_type":"","pos":{"len":9,"line_nr":15,"pos":442,"col":0,"last_line":15},"platform":"cross","kind":"const_group","public":true,"from_scope":false},{"attributes":{},"comments":[{"text":"\u0001 size of extended ChaCha20 nonce, called XChaCha20, 192 bits","is_multi":false,"pos":{"len":61,"line_nr":16,"pos":0,"col":0,"last_line":0}}],"children":[],"tags":[],"file_path":"D:\\Games\\Proekti\\V\\v\\vlib\\x\\crypto\\chacha20\\chacha.v","content":"const x_nonce_size = 24","name":"","parent_name":"","return_type":"","pos":{"len":9,"line_nr":17,"pos":531,"col":0,"last_line":17},"platform":"cross","kind":"const_group","public":true,"from_scope":false}],"tags":[],"file_path":"","content":"","name":"Constants","parent_name":"","return_type":"","pos":{"len":0,"line_nr":0,"pos":0,"col":0,"last_line":0},"platform":"auto","kind":"const_group","public":false,"from_scope":false},{"attributes":{},"comments":[{"text":"\u0001 vfmt on","is_multi":false,"pos":{"len":9,"line_nr":46,"pos":0,"col":0,"last_line":0}},{"text":"\u0001 new_cipher creates a new ChaCha20 stream cipher with the given 32 bytes key, a 12 or 24 bytes nonce.","is_multi":false,"pos":{"len":102,"line_nr":48,"pos":0,"col":0,"last_line":0}},{"text":"\u0001 If 24 bytes of nonce was provided, the XChaCha20 construction will be used.","is_multi":false,"pos":{"len":77,"line_nr":49,"pos":0,"col":0,"last_line":0}},{"text":"\u0001 It returns new ChaCha20 cipher instance or an error if key or nonce have any other length.","is_multi":false,"pos":{"len":92,"line_nr":50,"pos":0,"col":0,"last_line":0}}],"children":[],"tags":[],"file_path":"D:\\Games\\Proekti\\V\\v\\vlib\\x\\crypto\\chacha20\\chacha.v","content":"fn new_cipher(key []u8, nonce []u8) !&Cipher","name":"new_cipher","parent_name":"","return_type":"Cipher","pos":{"len":48,"line_nr":51,"pos":1681,"col":0,"last_line":57},"platform":"cross","kind":"function","public":true,"from_scope":false},{"attributes":{},"comments":[{"text":"\u0001 encrypt encrypts plaintext bytes with ChaCha20 cipher instance with provided key and nonce.","is_multi":false,"pos":{"len":93,"line_nr":59,"pos":0,"col":0,"last_line":0}},{"text":"\u0001 It was a thin wrapper around two supported nonce size, ChaCha20 with 96 bits","is_multi":false,"pos":{"len":78,"line_nr":60,"pos":0,"col":0,"last_line":0}},{"text":"\u0001 and XChaCha20 with 192 bits nonce. Internally, encrypt start with 0's counter value.","is_multi":false,"pos":{"len":86,"line_nr":61,"pos":0,"col":0,"last_line":0}},{"text":"\u0001 If you want more control, use Cipher instance and setup the counter by your self.","is_multi":false,"pos":{"len":83,"line_nr":62,"pos":0,"col":0,"last_line":0}}],"children":[],"tags":[],"file_path":"D:\\Games\\Proekti\\V\\v\\vlib\\x\\crypto\\chacha20\\chacha.v","content":"fn encrypt(key []u8, nonce []u8, plaintext []u8) ![]u8","name":"encrypt","parent_name":"","return_type":"![]u8","pos":{"len":58,"line_nr":63,"pos":2185,"col":0,"last_line":65},"platform":"cross","kind":"function","public":true,"from_scope":false},{"attributes":{},"comments":[{"text":"\u0001 decrypt does reverse of encrypt operation by decrypting ciphertext with ChaCha20 cipher","is_multi":false,"pos":{"len":89,"line_nr":67,"pos":0,"col":0,"last_line":0}},{"text":"\u0001 instance with provided key and nonce.","is_multi":false,"pos":{"len":39,"line_nr":68,"pos":0,"col":0,"last_line":0}}],"children":[],"tags":[],"file_path":"D:\\Games\\Proekti\\V\\v\\vlib\\x\\crypto\\chacha20\\chacha.v","content":"fn decrypt(key []u8, nonce []u8, ciphertext []u8) ![]u8","name":"decrypt","parent_name":"","return_type":"![]u8","pos":{"len":59,"line_nr":69,"pos":2441,"col":0,"last_line":71},"platform":"cross","kind":"function","public":true,"from_scope":false},{"attributes":{},"comments":[],"children":[{"attributes":{},"comments":[{"text":"\u0001 xor_key_stream xors each byte in the given slice in the src with a byte from the","is_multi":false,"pos":{"len":82,"line_nr":73,"pos":0,"col":0,"last_line":0}},{"text":"\u0001 cipher's key stream. It fullfills `cipher.Stream` interface. It encrypts the plaintext message","is_multi":false,"pos":{"len":96,"line_nr":74,"pos":0,"col":0,"last_line":0}},{"text":"\u0001 in src and stores the ciphertext result in dst in a single run of encryption.","is_multi":false,"pos":{"len":79,"line_nr":75,"pos":0,"col":0,"last_line":0}},{"text":"\u0001 You must never use the same (key, nonce) pair more than once for encryption.","is_multi":false,"pos":{"len":78,"line_nr":76,"pos":0,"col":0,"last_line":0}},{"text":"\u0001 This would void any confidentiality guarantees for the messages encrypted with the same nonce and key.","is_multi":false,"pos":{"len":104,"line_nr":77,"pos":0,"col":0,"last_line":0}}],"children":[],"tags":[],"file_path":"D:\\Games\\Proekti\\V\\v\\vlib\\x\\crypto\\chacha20\\chacha.v","content":"fn (mut c Cipher) xor_key_stream(mut dst []u8, src []u8)","name":"xor_key_stream","parent_name":"Cipher","return_type":"void","pos":{"len":60,"line_nr":79,"pos":3039,"col":0,"last_line":120},"platform":"cross","kind":"method","public":true,"from_scope":false},{"attributes":{},"comments":[{"text":"\u0001 free the resources taken by the Cipher `c`. Dont use cipher after .free call","is_multi":false,"pos":{"len":78,"line_nr":122,"pos":0,"col":0,"last_line":0}}],"children":[],"tags":["unsafe"],"file_path":"D:\\Games\\Proekti\\V\\v\\vlib\\x\\crypto\\chacha20\\chacha.v","content":"fn (mut c Cipher) free()","name":"free","parent_name":"Cipher","return_type":"void","pos":{"len":28,"line_nr":124,"pos":4788,"col":0,"last_line":131},"platform":"cross","kind":"method","public":true,"from_scope":false},{"attributes":{},"comments":[{"text":"\u0001 reset quickly sets all Cipher's fields to default value","is_multi":false,"pos":{"len":57,"line_nr":133,"pos":0,"col":0,"last_line":0}}],"children":[],"tags":["unsafe"],"file_path":"D:\\Games\\Proekti\\V\\v\\vlib\\x\\crypto\\chacha20\\chacha.v","content":"fn (mut c Cipher) reset()","name":"reset","parent_name":"Cipher","return_type":"void","pos":{"len":29,"line_nr":135,"pos":4949,"col":0,"last_line":159},"platform":"cross","kind":"method","public":true,"from_scope":false},{"attributes":{},"comments":[{"text":"\u0001 set_counter sets Cipher's counter","is_multi":false,"pos":{"len":35,"line_nr":161,"pos":0,"col":0,"last_line":0}}],"children":[],"tags":[],"file_path":"D:\\Games\\Proekti\\V\\v\\vlib\\x\\crypto\\chacha20\\chacha.v","content":"fn (mut c Cipher) set_counter(ctr u32)","name":"set_counter","parent_name":"Cipher","return_type":"void","pos":{"len":42,"line_nr":162,"pos":5370,"col":0,"last_line":170},"platform":"cross","kind":"method","public":true,"from_scope":false},{"attributes":{},"comments":[{"text":"\u0001 rekey resets internal Cipher's state and reinitializes state with the provided key and nonce","is_multi":false,"pos":{"len":94,"line_nr":172,"pos":0,"col":0,"last_line":0}}],"children":[],"tags":[],"file_path":"D:\\Games\\Proekti\\V\\v\\vlib\\x\\crypto\\chacha20\\chacha.v","content":"fn (mut c Cipher) rekey(key []u8, nonce []u8) !","name":"rekey","parent_name":"Cipher","return_type":"!","pos":{"len":51,"line_nr":173,"pos":5634,"col":0,"last_line":176},"platform":"cross","kind":"method","public":true,"from_scope":false}],"tags":[],"file_path":"","content":"","name":"Cipher","parent_name":"","return_type":"","pos":{"len":0,"line_nr":0,"pos":0,"col":0,"last_line":0},"platform":"auto","kind":"typedef","public":false,"from_scope":false}],"generator":"vdoc","time_generated":"2024-01-13 21:06:44"}