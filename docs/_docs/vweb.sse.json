{"module_name":"vweb.sse","description":"","contents":[{"attributes":{},"comments":[{"text":"\u0001 This module implements the server side of `Server Sent Events`.","is_multi":false,"pos":{"len":65,"line_nr":6,"pos":0,"col":0,"last_line":0}},{"text":"\u0001 See https://developer.mozilla.org/en-US/docs/Web/API/Server-sent_events/Using_server-sent_events#event_stream_format","is_multi":false,"pos":{"len":118,"line_nr":7,"pos":0,"col":0,"last_line":0}},{"text":"\u0001 as well as https://html.spec.whatwg.org/multipage/server-sent-events.html#server-sent-events","is_multi":false,"pos":{"len":94,"line_nr":8,"pos":0,"col":0,"last_line":0}},{"text":"\u0001 for detailed description of the protocol, and a simple web browser client example.","is_multi":false,"pos":{"len":84,"line_nr":9,"pos":0,"col":0,"last_line":0}},{"text":"\u0001","is_multi":false,"pos":{"len":1,"line_nr":10,"pos":0,"col":0,"last_line":0}},{"text":"\u0001 > Event stream format","is_multi":false,"pos":{"len":23,"line_nr":11,"pos":0,"col":0,"last_line":0}},{"text":"\u0001 > The event stream is a simple stream of text data which must be encoded using UTF-8.","is_multi":false,"pos":{"len":87,"line_nr":12,"pos":0,"col":0,"last_line":0}},{"text":"\u0001 > Messages in the event stream are separated by a pair of newline characters.","is_multi":false,"pos":{"len":79,"line_nr":13,"pos":0,"col":0,"last_line":0}},{"text":"\u0001 > A colon as the first character of a line is in essence a comment, and is ignored.","is_multi":false,"pos":{"len":85,"line_nr":14,"pos":0,"col":0,"last_line":0}},{"text":"\u0001 > Note: The comment line can be used to prevent connections from timing out;","is_multi":false,"pos":{"len":78,"line_nr":15,"pos":0,"col":0,"last_line":0}},{"text":"\u0001 > a server can send a comment periodically to keep the connection alive.","is_multi":false,"pos":{"len":74,"line_nr":16,"pos":0,"col":0,"last_line":0}},{"text":"\u0001 >","is_multi":false,"pos":{"len":3,"line_nr":17,"pos":0,"col":0,"last_line":0}},{"text":"\u0001 > Each message consists of one or more lines of text listing the fields for that message.","is_multi":false,"pos":{"len":91,"line_nr":18,"pos":0,"col":0,"last_line":0}},{"text":"\u0001 > Each field is represented by the field name, followed by a colon, followed by the text","is_multi":false,"pos":{"len":90,"line_nr":19,"pos":0,"col":0,"last_line":0}},{"text":"\u0001 > data for that field's value.","is_multi":false,"pos":{"len":32,"line_nr":20,"pos":0,"col":0,"last_line":0}}],"children":[{"attributes":{},"comments":[{"text":"\u0001 sse_start is used to send the start of a Server Side Event response.","is_multi":false,"pos":{"len":70,"line_nr":43,"pos":0,"col":0,"last_line":0}}],"children":[],"tags":[],"file_path":"D:\\Games\\Proekti\\V\\v\\vlib\\vweb\\sse\\sse.v","content":"fn (mut sse SSEConnection) start() !","name":"start","parent_name":"SSEConnection","return_type":"!","pos":{"len":40,"line_nr":44,"pos":1525,"col":0,"last_line":56},"platform":"cross","kind":"method","public":true,"from_scope":false},{"attributes":{},"comments":[{"text":"\u0001 send_message sends a single message to the http client that listens for SSE.","is_multi":false,"pos":{"len":78,"line_nr":58,"pos":0,"col":0,"last_line":0}},{"text":"\u0001 It does not close the connection, so you can use it many times in a loop.","is_multi":false,"pos":{"len":75,"line_nr":59,"pos":0,"col":0,"last_line":0}}],"children":[],"tags":[],"file_path":"D:\\Games\\Proekti\\V\\v\\vlib\\vweb\\sse\\sse.v","content":"fn (mut sse SSEConnection) send_message(message SSEMessage) !","name":"send_message","parent_name":"SSEConnection","return_type":"!","pos":{"len":65,"line_nr":60,"pos":2206,"col":0,"last_line":76},"platform":"cross","kind":"method","public":true,"from_scope":false}],"tags":[],"file_path":"D:\\Games\\Proekti\\V\\v\\vlib\\vweb\\sse\\sse.v","content":"struct SSEConnection {\npub mut:\n\theaders       map[string]string\n\tconn          &net.TcpConn  = unsafe { nil }\n\twrite_timeout time.Duration = 600 * time.second\n}","name":"SSEConnection","parent_name":"","return_type":"","pos":{"len":24,"line_nr":23,"pos":1094,"col":0,"last_line":28},"platform":"cross","kind":"struct_","public":true,"from_scope":false},{"attributes":{},"comments":[],"children":[],"tags":[],"file_path":"D:\\Games\\Proekti\\V\\v\\vlib\\vweb\\sse\\sse.v","content":"struct SSEMessage {\n\tid    string\n\tevent string\n\tdata  string\n\tretry int\n}","name":"SSEMessage","parent_name":"","return_type":"","pos":{"len":21,"line_nr":30,"pos":1261,"col":0,"last_line":35},"platform":"cross","kind":"struct_","public":true,"from_scope":false},{"attributes":{},"comments":[],"children":[],"tags":[],"file_path":"D:\\Games\\Proekti\\V\\v\\vlib\\vweb\\sse\\sse.v","content":"fn new_connection(conn &net.TcpConn) &SSEConnection","name":"new_connection","parent_name":"","return_type":"SSEConnection","pos":{"len":55,"line_nr":37,"pos":1341,"col":0,"last_line":41},"platform":"cross","kind":"function","public":true,"from_scope":false}],"generator":"vdoc","time_generated":"2024-01-13 21:06:44"}